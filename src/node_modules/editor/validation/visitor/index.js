var oop = require('oop').oop;





var ValidationVisitor = oop.Class({
	name: 'ValidationVisitor',

	init: function() {
		this._output = this.emptyOutput();
	},

	methods: {
		emptyOutput: function() {
			return {
				errors: [],
				warnings: []
			};
		},

		start: function() {
			this._output = this.emptyOutput();
		},

		processNode: function(node) {
			var errors = node.get('errors');
			if (errors != null) {
				this._output.errors.push({
					location: node.location,
					messages: errors
				});
			}
			var warnings = node.get('warnings');
			if (warnings != null) {
				this._output.warnings.push({
					location: node.location,
					messages: warnings
				});
			}
		},

		end: function() {
			return this._output;
		}

	}
});





exports.ValidationVisitor = new ValidationVisitor();
